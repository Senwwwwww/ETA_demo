@startuml
title 智慧电力全景监控与管控系统

actor 硬件设备
actor 管理员
actor 维修人员

participant "前端系统\n(异常展示/任务管理)" as 前端
participant "服务端" as 后端
database "数据库" as DB

== 缺陷与人员违规识别 ==
硬件设备 -> 后端 : 上传缺陷/违规数据
后端 -> DB : 保存缺陷信息
后端 -> 前端 : 推送识别结果
前端 -> 管理员 : 呈现识别结果（可视化展示）

== 管理员发布维修任务 ==
管理员 -> 前端 : 创建维修任务（选择类型、紧急程度等）
前端 -> 后端 : 提交任务数据
后端 -> DB : 存储任务
后端 -> 前端 : 返回任务创建结果

== 维修人员接取任务 ==
维修人员 -> 前端 : 浏览并接取任务
前端 -> 后端 : 提交接取请求
后端 -> DB : 更新任务状态为“维修中”
后端 -> 前端 : 返回状态更新

== 维修中处理流程 ==
维修人员 -> 前端 : 标记任务为“已完成”或“遇到问题”
前端 -> 后端 : 更新任务状态或提交反馈
alt 维修完成
    后端 -> DB : 更新状态为“已完成”
    后端 -> 管理员 : 通知任务完成
else 遇到问题
    后端 -> DB : 保存反馈
    后端 -> 管理员 : 通知存在问题
    管理员 -> 前端 : 查看反馈详情
    管理员 -> 前端 : 调整状态或优先级
    前端 -> 后端 : 提交修改
    后端 -> DB : 更新任务属性
end

== 管理员处理设备问题 ==
管理员 -> 设备 : 扫描二维码
设备 -> 前端 : 返回设备编号
前端 -> 后端 : 获取设备详情
后端 -> DB : 查询并返回状态
管理员 -> 前端 : 修改设备状态
前端 -> 后端 : 提交状态修改
后端 -> DB : 更新设备信息

@enduml
